---
name: Select Behavior
path: /components/select.research.api
showInMenu: false
---

## Overview

This page is for testing different types of behaviors and the observations.

Currently this is testing the built-in browser based `<select>` control

# HTMLOptionElement.value <a id="optionelement-value"></a>

[Issue 69](https://github.com/WICG/open-ui/issues/69)

If you have the following DOM structure, what is the value of the option?

```
<select>
   <option>
      <div>Option 1</div>
      <checkbox value="one" /> One
   </option>
   <option>
      <div>Option 2</div>
      <checkbox value="two" /> Two
      <checkbox value="three" /> Three
  </option>
</select>
```

### Current behavior

The [current behavior](https://jsbin.com/fimelilako/edit?html,js,console,output) takes the
text nodes of the children and creates the value from this. This is due to the DOM parsing removing
everything but text nodes, but ultimately that is the end value.

So for the following scenario:

```
<option><div>This is</div> a checkbox</option>
```

The `value` is `This is a checkbox`. If we go back to our example above and use this same logic
while under the assumption that the parser does not remove the non-text node elements we have:

```
  <!-- Value will be "Option 1 One" -->
  <option>
    <div>Option 1</div>
    <checkbox value="one" /> One
  </option>

  <!-- Value will be "Option 2 Two Three" -->
  <option>
    <div>Option 2</div>
    <checkbox value="two" /> Two
    <checkbox value="three" /> Three
  </option>
```

### Proposed solution

If the `<option>` contains another form of input in its descendants, then the value of the option
is _not_ calculated by the useragen, but should be provided by the author. Otherwise, the value is set
using the value of `textContent`.

**[OPEN QUESTION | TELEMETRY]** Is HTML within an `<option>` a common paradigm today, if so this will
change the `value` and may not be web compatible

**[OPEN QUESTION]** Will there need to be any changes to HTML forms to allow for the form controls
that may be nested to still be retrievable via their normal way due to this change?
