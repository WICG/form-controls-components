---
menu: Proposals
name: Switch Component Specification
path: /components/switch.explainer
pathToResearch: /components/switch
layout: ../../layouts/ComponentLayout.astro
---

> This document represents a component specification template. Its purpose
> is to provide a point-in-time guide as to how a component should be
> authored, in light of common anatomies, behaviors, and accessibility.
> The primary audience is a developer authoring a given component.

## Dictionary

Active switch: a switch in the "on" position
Inactive switch: a switch in the "off" position
Toggled: a switch in the "on" position

## Overview

A switch toggles a binary state on or off. Other names include "toggle", "lightswitch", "toggle switch" or "toggle button". [^1]

### Background

_Relevant historical or background information, related existing issues, etc._

The history of light switches date back to the 80â€™s, and they were used for just the On-Off purpose. The technological advancements of the day allow performing numerous tasks with the help of these light switches, including the adjustment of brightness of lamps.

The first ever light switch worked on a technology called the quick-break mechanism. Invented by John Henry Holmes in 1884, there used to be formation of a residue in the previous arcing technologies, thus reducing the life of the switch.

The word "toggle" is a reference to a kind of mechanism or joint consisting of two arms, which are almost in line with each other, connected with an elbow-like pivot. However, the phrase "toggle switch" is applied to a switch with a short handle.[^2][^3]

![Internal components of a toggle switch](https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Light_switch_inside_explained.jpg/440px-Light_switch_inside_explained.jpg)

### Use Cases

_Primary use cases for this component._

A switch can be used to toggle a binary state. Popular use-cases inlcude switching dark mode on or off, switching WiFi on or off and extends to any situation where a user is limited to a binary state - true or false, on or off.

![Switch example by Material Design, Google Inc.](https://lh3.googleusercontent.com/9ZiRb_i7vCmW5HZ_uu-WNFljJQUnVSMY9ZOnku7ZknH0t9J0AkZwU7NcowggDruiZ6_bwUru_B1QxLq87L6a5NLVlJns4-8aSvq8aYUCFh28=s0)

Toggling a switch always has an immediate effect.

It's not recommended to use a switch to toggle between two opposite states. This could include a list vs. map view or, confusingly, switching between light and dark mode (switch light or dark mode on or off, but don't toggle between these opposing states).

### Non-goals

_A list of use cases, features, or functionality which are **not** goals for the component._

The switch is not a checkbox or radiobutton alternative.

A switch differs from a checkbox because:

- It has no indeterminate state
- It requires an immediate action, no confirmation is needed for the state to take effect

A switch differs from a radio button because:

- It always has an initial state, either on or off. A radio button group can be in an initial "nothing selected", invalid state
- Switches cannot be grouped together like radio buttons with the same `name` attribute. Two switches cannot have the same `name` attribute.
- It requires an immediate action, no confirmation is needed for the state to take effect

### Features

_A list of the key features unique to this component._

#### Interaction

- `click`/`touch`: the switch can be toggled by clicking it
- `drag&drop`: the switch can be toggled by dragging the thumb

#### Form association

A `<switch>` can be part of a form and has a mechanism (`type="submit"`) to immediately submit the form it's part of. The value of a switch is reported to the form target as either "on" or "off".

<p class="question">
  How should form validation work? Is there a way to describe that the valid state is "off" instead
  of the more intuitive "on"?
</p>

#### Animation

Two popular animation techniques are supported.

##### Background fade

Upon toggling the switch, it's background changes from grey (off) to green (on) and the toggle slides to the respective position. Content on the thumb can indicate the currently active state. Track content is also possible in this variant, but as the track does not move, the content is being hidden and revealed by the sliding thumb.

##### Track slide

Upon toggling the switch, the track and the thumb slide together to the respective position. The track reveals the active side of the track while the inactive track side is being hidden. This variant imitates physical switches and can also reveal track content on either side of the thumb, describing the currently active state.

### Risks and Challenges

_Notable risks or challenges associated with the component. Link issues related to platform blockers._

Implementing the switch as a form element could lead developers to use it as a checkbox replacement.

### Prior Art/Examples

_Link to the OpenUI research page for the component. If any existing, canonical, or exemplary implementations of the component are found beyond what is documented in the research page, make a separate PR to add them there._

---

## Design

_Describe the design of the component, thinking through several perspectives:_

- _A customer using the component on a web page._
- _A developer building an app with the component and interacting through HTML/CSS/JavaScript._
- _A designer customizing the component._

### APIs

_Outline the key elements of the component's public API surface, taking into consideration conformance guidelines. Make sure to discuss differences and rationalizations. Consider high and low-level APIs. Attempt to design a powerful and extensible low-level API with a high-level API for developer/designer ergonomics and simplicity._

#### Properties and Attributes

_Example Table_

**Open questions:**

- If form associated, should default value of "on" be submitted if switch is on and the user did not specify a value to align with the [checkbox default value behavior](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#value:~:text=If%20the%20value%20attribute%20was%20omitted%2C%20the%20default%20value%20for%20the%20checkbox%20is%20on%2C%20so%20the%20submitted%20data%20in%20that%20case%20would%20be%20subscribe%3Don.)?
- Should a custom "activate initially" attribute be used with the switch (`toggled`) or should the checkbox `checked` attribute be used as a standard?
  `<switch toggled>` seems more natural while `<switch checked>` is already an established standard

| Property Name | Attribute Name | Type      | Default Value | Description                                                                                                                                                                                                                    |
| ------------- | -------------- | --------- | ------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `toggled`(?)  | `toggled`      | `boolean` | `false`       | Indicates if the switch should be "on" initially (similar to the `checked` attribute on the checkbox).                                                                                                                         |
| `value`       | `value`        | `string`  | `"on"` (?)    | The current value of the slider. Only set if the switch is toggled/on on form submission.                                                                                                                                      |
| `name`        | `name`         | `string`  | `""`          | The name of the component.                                                                                                                                                                                                     |
| `id`          | `id`           | `string`  | `""`          | The unique identifier of the component.                                                                                                                                                                                        |
| `type`        | `type`         | `string`  | `button`      | Similar to the `<button>` or `<input>`, the type property for the switch can take either "button" or "submit". "Button" is used for triggering JavaScript actions, "submit" is used to immediately submit the associated form. |
| `readonly`    | `readonly`     | `boolean` | `false`       | Indicates that the switch is not interactive but its value should still be submitted with the form.                                                                                                                            |
| `autofocus`   | `autofocus`    | `boolean` | `false`       | Get focus by default.                                                                                                                                                                                                          |
| `required`    | `required`     | `boolean` | `false`       | Indicates that the switch is invalid unless on.                                                                                                                                                                                |
| `form`        | `form`         | `string`  | `""`          | Associates the element with a form in the document whose `id` is this value.                                                                                                                                                   |

#### Methods

_Example Table_
No special methods needed.

#### Events

_Example Table_

| Event Name | Detail Type | Bubbles | Composed | Cancellable | Dispatch Behavior                                      |
| ---------- | ----------- | ------- | -------- | ----------- | ------------------------------------------------------ |
| `change`   | none        | `true`  | `true`   | `false`     | Fired when the switch `value` changes.                 |
| `input`    | none        | `true`  | `true`   | `false`     | Fired when the switch `value` is commited by the user. |

### Appearance

_Screenshots and/or description of the basic appearance of the component._

### Anatomy

_Outline the component's structure with a diagram of its render tree. Enumerate key areas of visual composition and customization._

#### Diagram

_Example_

![Example Diagram](../images/spec-diagram-example.png)

#### DOM Structure

_Define the recommended DOM to represent the component's anatomy, as shown above. Show how important attributes (aria attributes especially) are applied to the various parts. In cases where a component nests other components, expand the full DOM structure to understand the expectation and any shortcomings in the child components' customizability._

**Open questions**

- There are two variants of how state transitions work (simple example of toggling a switch to on):
  1. Thumb moves to the end, background-color fades from grey to green
  2. Thumb moves to the end, the track moves with the thumb, revealing the checked track, hiding the unchecked track
- The thumb is located outside the track because it can overlap the track and the track needs `overflow: hidden` in order to hide the inactive portion of the track. When transitioning in "track slide" mode, the thumb and track need to be animated individually, but need to move together in order to hide the line separating on and off states on the track (thumb needs to fill the height of the track). Is there a better way to solve this issue?

```html
<switch>
  #shadow-root (open)
  <button part="button">
    <span part="track">
      <slot name="checked-track (?)"></slot>
      <slot name="unchecked-track (?)"></slot>
    </span>
    <span part="thumb">
      <slot name="thumb"></slot>
    </span>
  </button>
</switch>
```

- `<button>` is for focus handling and event target/trigger
- The thumb slot is nested in the span, because the span is needed to ensure a working transition and it's easier to insert custom thumb content without replacing the entire thumb everytime.

#### Slots

**Open questions**

- What should the track slot names be?
  There are many possibilities here like with or without hyphen, "track" as pre- or postfix, something else entirely...
- What is the antonym of toggled?

| Slot Name         | Description                                                            | Fallback Content                            |
| ----------------- | ---------------------------------------------------------------------- | ------------------------------------------- |
| `thumb`           | Enables replacing the component's `thumb` part with custom markup.     | A default thumb implementation is provided. |
| `track-end` (?)   | Enables inserting content on the toggled (end) side of the track       | No default content                          |
| `track-start` (?) | Enables inserting content on the non-toggled (start) side fo the track | No default content                          |

#### Host Classes

_What classes does the component add to the host element?_

No host classes necessary.

#### Slotted Content Classes

_What classes on slotted content does the component respond to?_

No slotted content classes necessary.

#### CSS Parts

_What parts of the component are exposed for styling?_

_Example Table_

| Part Name | Description                                                                                   |
| --------- | --------------------------------------------------------------------------------------------- |
| `button`  | Enables styling the wrapping button element.                                                  |
| `thumb`   | Enables styling the `thumb` part without requiring it to be completely replaced via its slot. |
| `track`   | Enables styling the `track` part without requiring it to be completely replaced via its slot. |

---

## Behavior

### States and Interactions

_List key component states, valid state transitions, and how interactions trigger state transitions._

- _Are states changed as a result of keyboard? mouse? touch?_
- _Are there corresponding keyboard interactions for mouse/touch interactions?_
- _Are some events triggered on key down vs key press?_

_Example Table_

**Open questions:**

- Should the switch value type be a boolean or the string set ["on", "off"]?

| State Group | States            | Initial State | Description                                                                                                           | Interaction/Transition                                                                                      |
| ----------- | ----------------- | ------------- | --------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| `value`     | `"on"`/`"off"`(?) | `"off"`       | Determines the current value of the component.                                                                        | Changed upon user interaction on click, touch, space key (when focused), enter key (when focused, optional) |
| `disabled`  | `true`/`false`    | `false`       | When `true`, disables the control, preventing user interaction and displaying the control with a disabled appearance. | No interaction. Controlled programmatically.                                                                |
| `focused`   | `true`/`false`    | `false`       |

### Accessibility

ARIA authoring practices guide for the switch pattern: https://www.w3.org/WAI/ARIA/apg/patterns/switch/

- A labelling text can be assigned to the switch like any other form control through a `<label>` element, the `aria-label=""` attribute or the `aria-labelledby=""` attribute
- Should be assigned the implicit aria role of "switch"
- The current value should be reported as "on" or "off" to screen readers

**Open questions:**

- How can the `<switch>` element be assigned the implicit role of "switch"?

#### Keyboard Navigation and Focus

- _Arrow vs tabbing key behavior_
- _Modifier key effects (e.g. shift, ctrl, meta)_
- _Does this component use focus delegation?_

_Example Table_

| Key              | Description                            |
| ---------------- | -------------------------------------- |
| Space            | Should toggle the switch when focused. |
| Enter (optional) | Should toggle the switch when focused. |

#### Form Input

_Does this component integrate with form submission, form validation, etc.? Can integration be accomplish with standard APIs or are special work-arounds required?_

The switch is also a form element, acting as a mix between a button and a checkbox - a stateful button.

##### Type button

A JavaScript event listener is used to trigger the immediate action assigned to the switch. This can include calling a REST API or toggling a class on an element (e.g. dark mode).

##### Type submit

For a more traditional, non-JavaScript approach, it's necessary to receive the state of the switch on the server. In order to facilitate the directness of the action, a switch can be of type "submit". Like a submit button, toggling the switch will immediately submit the associated form to the server. This enables creating a HTML/CSS only settings page while staying true to user expectations of how the component should behave.

#### Use with Assistive Technology

_Are there any details about shadow dom, focus delegation, or aria attributes that need special attention?_

Focus should be delegated to the button inside the component.

**Open questions:**

- The ARIA specification recommends updating the `aria-checked` attribute when toggling the switch. Is this necessary or can this be handled similar to how checkboxes work?

### Globalization

_Consider whether the component has any special globalization needs such as:_

- _Special RTL handling_
- _Swapping of internal icons/visuals_
- _Localization_

### Security

_Are there any security implications surrounding the component?_
No security implications are expected.

### Performance

_Are there any performance pitfalls or challenges with implementing the component? (examples below)_

- If the component renders a loop of items, should certain areas be considered for virtualization?
- If the component needs to measure an area before rendering, how will jank be avoided?
- If any measuring is needed at all, can rAF techniques help queue measures and prevent synchronous reflows?

## Dependencies

_Will implementing the component require taking on any dependencies?_

- _3rd party libraries_
- _Upcoming standards we need to polyfill_
- _Do any dependencies bring along an associated timeline?_

### Platform Requirements

_Are there any core web platform features that are needed to implement this component well?_

### Tooling

_Are there any special considerations for DevTools? Will tooling changes need to be made? Is there a special way to light up this component in DevTools that would be compelling for developers/designers?_

---

## Resources

_Any related resource links such as web standards, discussion threads, diagrams, etc._

- Checkbox vs Toggle Switch: 7 Use-Cases of Forms Design: https://uxdworld.com/2018/08/13/checkbox-vs-toggle-switch-7-use-cases-of-forms-design/
- Extreme use cases, useful for scope: https://uxdesign.cc/the-good-the-bad-and-the-toggle-2abc0fbbd099
- Indeterminate state: https://uxplanet.org/ui-switch-component-3f29bc7f4f45
- When to use a toggle switch: https://www.thedesignerstoolbox.com/design-system/when-to-use-toggle-switch-in-ux/
- History Of Toggle + UI/UX Case Study + UI Samples: https://www.behance.net/gallery/70302039/History-Of-Toggle-UIUX-Case-Study-UI-Samples
- Material 3 Switch: https://m3.material.io/components/switch/overview

---

## Next Steps

_What next steps, if any, are there? Is there some functionality that would be a nice-to-have or a common feature in other implementations that could be added but is not considered part of the MVP? Link all feature additions, modifications, bugs, or editorial change issues._

---

References:

[^1]: https://component.gallery/components/toggle/
[^2]: https://www.behance.net/gallery/70302039/History-Of-Toggle-UIUX-Case-Study-UI-Samples
[^3]: https://en.wikipedia.org/wiki/Light_switch
